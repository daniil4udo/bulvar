@use "sass:math"

@use "../utilities"

$content-heading-color: var(--text-strong) !default
$content-heading-weight: var(--weight-semibold) !default
$content-heading-line-height: 1.125 !default

$content-block-margin-bottom: 1em !default

$content-blockquote-background-color: var(--background) !default
$content-blockquote-border-left: 5px solid var(--border) !default
$content-blockquote-padding: 1.25em 1.5em !default

$content-pre-padding: 1.25em 1.5em !default

$content-table-cell-border: 1px solid var(--border) !default
$content-table-cell-border-width: 0 0 1px !default
$content-table-cell-padding: 0.5em 0.75em !default
$content-table-cell-heading-color: var(--text-strong) !default
$content-table-head-cell-border-width: 0 0 2px !default
$content-table-head-cell-color: var(--text-strong) !default
$content-table-body-last-row-cell-border-bottom-width: 0 !default
$content-table-foot-cell-border-width: 2px 0 0 !default
$content-table-foot-cell-color: var(--text-strong) !default

// Map Local variables
$-css-vars-map: ("content-heading-color": $content-heading-color, "content-heading-weight": $content-heading-weight, "content-heading-line-height": $content-heading-line-height, "content-block-margin-bottom": $content-block-margin-bottom, "content-blockquote-background-color": $content-blockquote-background-color, "content-blockquote-border-left": $content-blockquote-border-left, "content-blockquote-padding": $content-blockquote-padding, "content-pre-padding": $content-pre-padding, "content-table-cell-border": $content-table-cell-border, "content-table-cell-border-width": $content-table-cell-border-width, "content-table-cell-padding": $content-table-cell-padding, "content-table-cell-heading-color": $content-table-cell-heading-color, "content-table-head-cell-border-width": $content-table-head-cell-border-width, "content-table-head-cell-color": $content-table-head-cell-color, "content-table-body-last-row-cell-border-bottom-width": $content-table-body-last-row-cell-border-bottom-width, "content-table-foot-cell-border-width": $content-table-foot-cell-border-width, "content-table-foot-cell-color": $content-table-foot-cell-color)
+utilities.exportCSSVars($-css-vars-map)
+utilities.registerComponentCSSVars("content", $-css-vars-map)
// --content-heading-color: #{$content-heading-color}
// --content-heading-weight: #{$content-heading-weight}
// --content-heading-line-height: #{$content-heading-line-height}
// --content-blockquote-background-color: #{$content-blockquote-background-color}
// --content-blockquote-border-left: #{$content-blockquote-border-left}
// --content-blockquote-padding: #{$content-blockquote-padding}
// --content-pre-padding: #{$content-pre-padding}
// --content-table-cell-border: #{$content-table-cell-border}
// --content-table-cell-border-width: #{$content-table-cell-border-width}
// --content-table-cell-padding: #{$content-table-cell-padding}
// --content-table-cell-heading-color: #{$content-table-cell-heading-color}
// --content-table-head-cell-border-width: #{$content-table-head-cell-border-width}
// --content-table-head-cell-color: #{$content-table-head-cell-color}
// --content-table-foot-cell-border-width: #{$content-table-foot-cell-border-width}
// --content-table-foot-cell-color: #{$content-table-foot-cell-color}

.content
  @extend %block
  // Inline
  li + li
    +utilities.logical-y(margin, 0.25em, $bottom: false)
  // Block
  p,
  dl,
  ol,
  ul,
  blockquote,
  pre,
  table
    &:not(:last-child)
      +utilities.logical-y(margin, var(--content-block-margin-bottom), $bottom: true)
  h1,
  h2,
  h3,
  h4,
  h5,
  h6
    color: var(--content-heading-color)
    font-weight: var(--content-heading-weight)
    line-height: var(--content-heading-line-height)
  h1
    font-size: 2em
    +utilities.logical-y(margin, math.div(1, 2) * 1em, $bottom: true)
    &:not(:first-child)
      +utilities.logical-y(margin, 1em, $bottom: false)
  h2
    font-size: 1.75em
    +utilities.logical-y(margin, math.div(1, 1.75) * 1em, $bottom: true)
    &:not(:first-child)
      +utilities.logical-y(margin, 2 - math.div(1, 1.75) * 1em, $bottom: false)
  h3
    font-size: 1.5em
    +utilities.logical-y(margin, math.div(1, 1.5) * 1em, $bottom: true)
    &:not(:first-child)
      +utilities.logical-y(margin, 2 - math.div(1, 1.5) * 1em, $bottom: false)
  h4
    font-size: 1.25em
    +utilities.logical-y(margin, math.div(1, 1.25) * 1em, $bottom: true)
  h5
    font-size: 1.125em
    +utilities.logical-y(margin, math.div(1, 1.125) * 1em, $bottom: true)
  h6
    font-size: 1em
    +utilities.logical-y(margin, 1em, $bottom: true)
  blockquote
    background-color: var(--content-blockquote-background-color)
    +utilities.logical-x(border, var(--content-blockquote-border-left), $right: false)
    padding: var(--content-blockquote-padding)
  ol
    list-style-position: outside
    +utilities.logical-x(margin, 2em, $right: false)
    +utilities.logical-y(margin, 1em, $bottom: false)
    &:not([type])
      list-style-type: decimal
      &.is-lower-alpha
        list-style-type: lower-alpha
      &.is-lower-roman
        list-style-type: lower-roman
      &.is-upper-alpha
        list-style-type: upper-alpha
      &.is-upper-roman
        list-style-type: upper-roman
  ul
    list-style: disc outside
    +utilities.logical-x(margin, 2em, $right: false)
    +utilities.logical-y(margin, 1em, $bottom: false)
    ul
      list-style-type: circle
      +utilities.logical-y(margin, 0.5em, $bottom: false)
      ul
        list-style-type: square
  dd
    +utilities.logical-x(margin, 2em, $right: false)
  figure
    +utilities.logical-x(margin, 2em)
    text-align: center
    &:not(:first-child)
      +utilities.logical-y(margin, 2em, $bottom: false)
    &:not(:last-child)
      +utilities.logical-y(margin, 2em, $bottom: true)
    img
      display: inline-block
    figcaption
      font-style: italic
  pre
    +utilities.overflow-touch
    overflow-x: auto
    padding: var(--content-pre-padding)
    white-space: pre
    word-wrap: normal
  sup,
  sub
    font-size: 75%
  table
    width: 100%
    td,
    th
      border: var(--content-table-cell-border)
      border-width: var(--content-table-cell-border-width)
      padding: var(--content-table-cell-padding)
      vertical-align: top
    th
      color: var(--content-table-cell-heading-color)
      &:not([align])
        text-align: inherit
    thead
      td,
      th
        border-width: var(--content-table-head-cell-border-width)
        color: var(--content-table-head-cell-color)
    tfoot
      td,
      th
        border-width: var(--content-table-foot-cell-border-width)
        color: var(--content-table-foot-cell-color)
    tbody
      tr
        &:last-child
          td,
          th
            border-bottom-width: var(--content-table-body-last-row-cell-border-bottom-width)
  .tabs
    li + li
      +utilities.logical-y(margin, 0, $bottom: false)
  // Sizes
  +utilities.control-sizes($has-normal: true)
