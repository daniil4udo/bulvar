@use "../utilities"

$menu-item-color: var(--text) !default
$menu-item-radius: var(--radius-small) !default
$menu-item-hover-color: var(--text-strong) !default
$menu-item-hover-background-color: var(--background) !default
$menu-item-active-color: var(--link-invert) !default
$menu-item-active-background-color: var(--link) !default
$menu-font-size: var(--size-normal) !default

$menu-list-border-left: 1px solid var(--border) !default
$menu-list-line-height: 1.25 !default
$menu-list-link-padding: 0.5em 0.75em !default
$menu-nested-list-margin: 0.75em !default
$menu-nested-list-padding-left: 0.75em !default

$menu-label-color: var(--text-light) !default
$menu-label-font-size: 0.75em !default
$menu-label-letter-spacing: 0.1em !default
$menu-label-spacing: 1em !default

// Map Local variables
$-css-vars-map: ("menu-font-size": $menu-font-size, "menu-list-line-height": $menu-list-line-height, "menu-item-radius": $menu-item-radius, "menu-item-color": $menu-item-color, "menu-list-link-padding": $menu-list-link-padding, "menu-item-hover-background-color": $menu-item-hover-background-color, "menu-item-hover-color": $menu-item-hover-color, "menu-item-active-background-color": $menu-item-active-background-color, "menu-item-active-color": $menu-item-active-color, "menu-list-border-left": $menu-list-border-left, "menu-nested-list-padding-left": $menu-nested-list-padding-left, "menu-nested-list-margin": $menu-nested-list-margin, "menu-label-color": $menu-label-color, "menu-label-font-size": $menu-label-font-size, "menu-label-letter-spacing": $menu-label-letter-spacing, "menu-label-spacing": $menu-label-spacing)
+utilities.exportCSSVars($-css-vars-map)
+utilities.registerComponentCSSVars("menu", $-css-vars-map)
// --menu-font-size: #{$menu-font-size}
// --menu-list-line-height: #{$menu-list-line-height}
// --menu-item-radius: #{$menu-item-radius}
// --menu-item-color: #{$menu-item-color}
// --menu-list-link-padding: #{$menu-list-link-padding}
// --menu-item-hover-background-color: #{$menu-item-hover-background-color}
// --menu-item-hover-color: #{$menu-item-hover-color}
// --menu-item-active-background-color: #{$menu-item-active-background-color}
// --menu-item-active-color: #{$menu-item-active-color}
// --menu-list-border-left: #{$menu-list-border-left}
// --menu-nested-list-padding-left: #{$menu-nested-list-padding-left}
// --menu-nested-list-margin: #{$menu-nested-list-margin}
// --menu-label-color: #{$menu-label-color}
// --menu-label-font-size: #{$menu-label-font-size}
// --menu-label-letter-spacing: #{$menu-label-letter-spacing}
// --menu-label-spacing: #{$menu-label-spacing}

.menu
  font-size: var(--menu-font-size)
  // Sizes
  +utilities.control-sizes(menu-font-size)

.menu-list
  line-height: var(--menu-list-line-height)
  a
    border-radius: var(--menu-item-radius)
    color: var(--menu-item-color)
    display: block
    padding: var(--menu-list-link-padding)
    &:hover
      background-color: var(--menu-item-hover-background-color)
      color: var(--menu-item-hover-color)
    // Modifiers
    &.is-active
      background-color: var(--menu-item-active-background-color)
      color: var(--menu-item-active-color)
  li
    ul
      +utilities.logical-x(border, var(--menu-list-border-left), $right: false)
      margin: var(--menu-nested-list-margin)
      +utilities.logical-x(padding, var(--menu-nested-list-padding-left), $right: false)

.menu-label
  color: var(--menu-label-color)
  font-size: var(--menu-label-font-size)
  letter-spacing: var(--menu-label-letter-spacing)
  text-transform: uppercase
  &:not(:first-child)
    +utilities.logical-y(margin, var(--menu-label-spacing), $bottom: false)
  &:not(:last-child)
    +utilities.logical-y(margin, var(--menu-label-spacing), $bottom: true)
